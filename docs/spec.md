# 目的
tblsを使って出力されたDBスキーマ情報を参照、sqlを実行するMCPサーバーの実装。

# 仕様
- tblsによって出力されたスキーマ情報の格納フォルダを指定できるようにする。
- 指定されたフォルダにあるDBスキーマ情報を参照し、DB情報をMCPサーバーのresourcesとして提供する。
  - サポートするresourcesは下記の通りとする。
    - スキーマ
    - 指定スキーマのテーブルリスト
    - 指定テーブルの情報
    - 指定テーブルのインデックス情報
- DBスキーマ情報はtblesの標準出力形式であるmarkdown形式を想定する。
- オプションとして指定したDBに対してsqlを実行できるようにする。
  - 接続文字列を指定できるようにする。
  - 発行できるsqlはselect文に限定する。
  - 対象データベースはmysqlとsqliteとする。

# 実装条件
- typescriptで実装する。
- @modelcontextprotocol/sdk を利用した実装。
- context7 を使って最新技術情報を確認しながら作業を進めてください。指摘内容の解決方法や実装の詳細については、context7で調査してから進めてください。
- classを使わず、関数型プログラミングで実装する。
- neverthrow を使ってエラーハンドリングを行う。
- zod を使ったスキーマ定義、バリデーションを行う。
  - スキーマ定義を重複定義しないように注意すること。
- 基本的なgithub workflowを用意する。
  - push時にビルドとテストが走るようにする。
- githubリポジトリを参照したnpxによるmcpサーバーの起動ができるようにする。

## 作業の進め方
- **必ず適切なサブエージェントを使って作業を進める**ようにします。
- TDDのRed-Green-Refactorサイクルで作業を進めてください。
- **context7 を使って最新技術情報を確認しながら作業を進めてください。** 指摘内容の解決方法や実装の詳細については、context7で調査してから進めてください。
- **Web検索が必要なときは必ず "gemini -p <質問内容>" を実行してgoogle geiminiに問い合わせをしてください。**
- 各作業前に serena を使って initial instructions を読み込んでください。

ultrathink


